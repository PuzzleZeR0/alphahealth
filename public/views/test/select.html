<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div class="neumorphic-select-wrapper">
  
  <div class="neumorphic-select-trigger" id="select-trigger">
    <span id="select-trigger-text">Selecciona un tratamiento...</span>
    <span class="select-arrow">▼</span>
  </div>

  <div class="neumorphic-select-options" id="select-options">
    
    <div class="neumorphic-select-option" data-value="blanqueamiento" data-tratamiento="Blanqueamiento" data-precio="$300.000">
      Blanqueamiento - $300.000
    </div>
    <div class="neumorphic-select-option" data-value="carillas" data-tratamiento="Carillas" data-precio="$500.000">
      Carillas - $500.000
    </div>
    <div class="neumorphic-select-option" data-value="coronas" data-tratamiento="Coronas" data-precio="$400.000">
      Coronas - $400.000
    </div>
    <div class="neumorphic-select-option" data-value="endodoncia" data-tratamiento="Endodoncia" data-precio="$250.000">
      Endodoncia - $250.000
    </div>
    <div class="neumorphic-select-option" data-value="implantes" data-tratamiento="Implantes" data-precio="$800.000">
      Implantes - $800.000
    </div>
    <div class="neumorphic-select-option" data-value="ortodoncia" data-tratamiento="Ortodoncia" data-precio="$1.200.000">
      Ortodoncia - $1.200.000
    </div>
    <div class="neumorphic-select-option" data-value="limpieza" data-tratamiento="Limpieza" data-precio="$150.000">
      Limpieza - $150.000
    </div>
    <div class="neumorphic-select-option" data-value="extraccion" data-tratamiento="Extracción" data-precio="$200.000">
      Extracción - $200.000
    </div>
    
  </div>

  <select id="tratammientos" name="tratamiento" style="display: none;">
    <option value="" disabled selected hidden></option>
    <option value="blanqueamiento"></option>
    <option value="carillas"></option>
    <option value="coronas"></option>
    <option value="endodoncia"></option>
    <option value="implantes"></option>
    <option value="ortodoncia"></option>
    <option value="limpieza"></option>
    <option value="extraccion"></option>
  </select>

</div>


<div class="card" id="info-card">
  <div class="bg">
    <div class="card-content">
      <h3 class="card-title">Tratamiento Seleccionado</h3>
      <p class="card-tratamiento" id="card-tratamiento">...</p>
      <div class="card-footer">
        <span class="card-label">Precio:</span>
        <span class="card-precio" id="card-precio">...</span>
      </div>
    </div>
  </div>
  <div class="blob"></div>
</div>
</body>
<style>
/* 1. El contenedor principal */
.neumorphic-select-wrapper {
  position: relative;
  width: 100%;
  max-width: 400px;
  /* Ya no usamos monospace, usamos la fuente del body */
}

/* 2. El "botón" visible (tu estilo de botón) */
.neumorphic-select-trigger {
  color: #090909;
  padding: 0.7em 1.7em;
  font-size: 18px;
  border-radius: 0.5em;
  background: #e8e8e8;
  cursor: pointer;
  border: 1px solid #e8e8e8;
  transition: all 0.3s;
  box-shadow: 6px 6px 12px #c5c5c5, -6px -6px 12px #ffffff;
  
  display: flex;
  justify-content: space-between;
  align-items: center;
  /* Añadido para evitar que el texto se seleccione */
  user-select: none;
}
.neumorphic-select-trigger:hover {
  border: 1px solid white;
}
.neumorphic-select-trigger.active {
  box-shadow: 4px 4px 12px #c5c5c5, -4px -4px 12px #ffffff;
}

/* Texto del placeholder */
#select-trigger-text {
  color: #6d6d6d; 
}
#select-trigger-text.selected {
  color: #090909; 
}

.select-arrow {
  font-size: 14px;
  color: #090909;
  transition: transform 0.3s ease;
}
.neumorphic-select-trigger.active .select-arrow {
  transform: rotate(180deg);
}

/* 3. La lista de opciones */
.neumorphic-select-options {
  visibility: hidden;
  opacity: 0;
  transform: translateY(-10px);
  
  position: absolute;
  z-index: 1000;
  top: calc(100% + 10px); 
  left: 0;
  width: 100%;
  
  background: #e8e8e8;
  border-radius: 0.5em;
  box-shadow: 6px 6px 12px #c5c5c5, -6px -6px 12px #ffffff;
  padding: 0.5em;
  transition: all 0.3s ease;
}
.neumorphic-select-options.open {
  visibility: visible;
  opacity: 1;
  transform: translateY(0);
}

/* 4. Cada opción individual */
.neumorphic-select-option {
  padding: 0.7em 1.2em;
  font-size: 18px;
  color: #090909;
  cursor: pointer;
  border-radius: 0.3em;
  transition: background 0.2s ease;
  user-select: none;
}
.neumorphic-select-option:hover {
  background: #e8e8e8;
  box-shadow: inset 4px 4px 8px #c5c5c5, inset -4px -4px 8px #ffffff;
}


/* --- ESTILOS DE LA TARJETA (SIN CAMBIOS) --- */

.card {
  position: relative;
  width: 300px; 
  height: 280px;
  border-radius: 14px;
  z-index: 900;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  box-shadow: 10px 10px 30px #bebebe, -10px -10px 30px #ffffff;
  margin-top: 25px; 
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  visibility: hidden;
}
.card.visible { opacity: 1; transform: translateY(0); visibility: visible; }
.bg { position: absolute; top: 5px; left: 5px; width: 290px; height: 270px; z-index: 2; background: rgba(255, 255, 255, .95); backdrop-filter: blur(24px); border-radius: 10px; overflow: hidden; outline: 2px solid white; }
.blob { position: absolute; z-index: 1; top: 50%; left: 50%; width: 200px; height: 200px; border-radius: 50%; background-color: #006aff; opacity: 1; filter: blur(12px); animation: blob-bounce 5s infinite ease; }
@keyframes blob-bounce { 0%{transform: translate(-100%, -100%) translate3d(0, 0, 0);} 25%{transform: translate(-100%, -100%) translate3d(100%, 0, 0);} 50%{transform: translate(-100%, -100%) translate3d(100%, 100%, 0);} 75%{transform: translate(-100%, -100%) translate3d(0, 100%, 0);} 100%{transform: translate(-100%, -100%) translate3d(0, 0, 0);} }
.card-content { padding: 24px; }
.card-title { margin: 0 0 16px 0; font-size: 1rem; font-weight: 600; color: #6c757d; border-bottom: 1px solid #f1f3f5; padding-bottom: 12px; }
.card-tratamiento { font-size: 1.3rem; font-weight: 700; color: #212529; margin: 0 0 16px 0; min-height: 40px; }
.card-footer { display: flex; justify-content: space-between; align-items: center; background: transparent; padding: 14px 0; border-top: 1px solid #f1f3f5; }
.card-label { font-size: 0.9rem; color: #6c757d; font-weight: 500; }
.card-precio { font-size: 1.25rem; font-weight: 700; color: #006aff; }
</style>
<script>
document.addEventListener("DOMContentLoaded", () => {
  
  // --- 1. LÓGICA DEL SELECT PERSONALIZADO ---

  const wrapper = document.querySelector(".neumorphic-select-wrapper");
  const trigger = document.getElementById("select-trigger");
  const triggerText = document.getElementById("select-trigger-text");
  const optionsList = document.getElementById("select-options");
  const options = document.querySelectorAll(".neumorphic-select-option");
  
  // *** CAMBIO CLAVE: Buscamos el ID "tratammientos" ***
  const hiddenSelect = document.getElementById("tratammientos");

  // Abrir/Cerrar la lista de opciones
  trigger.addEventListener("click", () => {
    optionsList.classList.toggle("open");
    trigger.classList.toggle("active");
  });

  // Manejar el clic en una opción
  options.forEach(option => {
    option.addEventListener("click", () => {
      const value = option.dataset.value;
      
      triggerText.textContent = option.textContent; 
      triggerText.classList.add("selected"); 
      
      hiddenSelect.value = value;
      hiddenSelect.dispatchEvent(new Event('change'));

      optionsList.classList.remove("open");
      trigger.classList.remove("active");
    });
  });

  // Cerrar el dropdown si se clica fuera de él
  window.addEventListener("click", (e) => {
    if (wrapper && !wrapper.contains(e.target)) {
      optionsList.classList.remove("open");
      trigger.classList.remove("active");
    }
  });


  // --- 2. LÓGICA DE LA TARJETA ---

  const card = document.getElementById("info-card");
  const cardTratamiento = document.getElementById("card-tratamiento");
  const cardPrecio = document.getElementById("card-precio");

  // Escuchamos el evento 'change' en el select oculto "tratammientos"
  hiddenSelect.addEventListener("change", (event) => {
    
    const selectedValue = event.target.value;
    // Buscamos la opción personalizada que coincida con el valor
    const selectedOption = document.querySelector(`.neumorphic-select-option[data-value="${selectedValue}"]`);
    
    if (selectedOption) {
      // Leemos los data-attributes de esa opción
      const tratamiento = selectedOption.dataset.tratamiento;
      const precio = selectedOption.dataset.precio;

      cardTratamiento.textContent = tratamiento;
      cardPrecio.textContent = precio;
      card.classList.add("visible");
    } else {
      card.classList.remove("visible");
    }
  });

});
</script>
</html>